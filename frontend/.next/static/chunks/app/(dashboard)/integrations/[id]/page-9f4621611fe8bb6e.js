(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},906:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},1360:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1524:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4483:(e,t,s)=>{Promise.resolve().then(s.bind(s,8891))},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5870:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5917:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7621:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(5125);let r="https://slackcrm-backend.fly.dev/api/v1",l=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),n=!1,c=[],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c.forEach(s=>{e?s.reject(e):s.resolve(t)}),c=[]};l.interceptors.request.use(e=>{{let t=localStorage.getItem("accessToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!s._retry){if(n)return new Promise((e,t)=>{c.push({resolve:e,reject:t})}).then(e=>(s.headers&&(s.headers.Authorization="Bearer ".concat(e)),l(s))).catch(e=>Promise.reject(e));s._retry=!0,n=!0;{let t=localStorage.getItem("refreshToken");if(!t)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{let{accessToken:e,refreshToken:c}=(await a.A.post("".concat(r,"/auth/refresh"),{refreshToken:t})).data;return localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",c),s.headers&&(s.headers.Authorization="Bearer ".concat(e)),i(null,e),n=!1,l(s)}catch(e){return i(e,null),n=!1,localStorage.clear(),window.location.href="/login",Promise.reject(e)}}}return Promise.reject(e)});let o=l},8891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),r=s(2115),l=s(63),n=s(6132),c=s(5917),i=s(5626),o=s(5299),d=s(1847);let h=(0,d.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=s(1360),x=s(1524),u=s(5870),f=s(906);let g=(0,d.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var p=s(5229),y=s(7621);function b(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),s=e.id,[d,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),[P,M]=(0,r.useState)(""),[T,D]=(0,r.useState)(!1),[L,R]=(0,r.useState)({autoSync:!0,notifications:!0,syncContacts:!0,syncDeals:!0}),U={id:s,name:s.charAt(0).toUpperCase()+s.slice(1),icon:"\uD83D\uDD2E",color:"from-purple-500 to-pink-500",status:"active",connectedAt:"2025-01-15",lastSync:"2 hours ago",syncFrequency:"Every 15 minutes",totalSyncs:1247,successRate:99.2,failedSyncs:10,webhookUrl:"https://api.slackcrm.com/webhooks/slack-123",stats:[{label:"Contacts Synced",value:"1,247",change:"+12%",trend:"up"},{label:"Events Processed",value:"8,934",change:"+8%",trend:"up"},{label:"Last Sync",value:"2h ago",change:"Active",trend:"neutral"},{label:"Success Rate",value:"99.2%",change:"+0.5%",trend:"up"}]},F=async()=>{b(!0),C("");try{await y.A.delete("/integrations/".concat(s)),t.push("/integrations")}catch(t){var e,a;console.error("Failed to disconnect integration:",t),C((null==(a=t.response)||null==(e=a.data)?void 0:e.message)||"Failed to disconnect integration"),b(!1)}},z=async()=>{w(!0),C(""),M("");try{await y.A.post("/integrations/".concat(s,"/sync")),M("Sync started successfully!"),setTimeout(()=>M(""),3e3)}catch(s){var e,t;console.error("Failed to trigger sync:",s),C((null==(t=s.response)||null==(e=t.data)?void 0:e.message)||"Failed to trigger sync"),setTimeout(()=>C(""),3e3)}finally{w(!1)}},_=async()=>{A(!0),C(""),M("");try{await y.A.patch("/integrations/".concat(s),{settings:L}),M("Settings saved successfully!"),setTimeout(()=>M(""),3e3)}catch(s){var e,t;console.error("Failed to save settings:",s),C((null==(t=s.response)||null==(e=t.data)?void 0:e.message)||"Failed to save settings"),setTimeout(()=>C(""),3e3)}finally{A(!1)}},E=async()=>{try{await navigator.clipboard.writeText(U.webhookUrl),D(!0),setTimeout(()=>D(!1),2e3)}catch(e){console.error("Failed to copy webhook URL:",e)}};return(0,a.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[S&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-600"}),(0,a.jsx)("span",{className:"text-sm text-red-800",children:S})]}),P&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-green-800",children:P})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/integrations"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,a.jsx)(i.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"Back to Integrations"})]}),(0,a.jsx)("div",{className:"glass-effect rounded-2xl p-8 animate-slide-up",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br ".concat(U.color," text-4xl shadow-lg"),children:U.icon}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:U.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),"Connected"]})]}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Connected on ",new Date(U.connectedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Last synced ",U.lastSync," â€¢ ",U.syncFrequency]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:z,disabled:N,className:"flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[N?(0,a.jsx)(o.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(h,{className:"h-4 w-4"}),N?"Syncing...":"Sync Now"]}),(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 rounded-xl border border-red-300 bg-red-50 px-4 py-2.5 text-sm font-semibold text-red-700 hover:bg-red-100 transition-all",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Disconnect"]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:U.stats.map((e,t)=>(0,a.jsxs)("div",{style:{animationDelay:"".concat(100*t,"ms")},className:"group relative overflow-hidden rounded-2xl glass-effect p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-scale-in",children:[(0,a.jsx)("div",{className:"absolute -right-8 -top-8 h-32 w-32 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 opacity-10 blur-2xl transition-all duration-500 group-hover:opacity-20 group-hover:scale-125"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:e.label}),(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.value}),"up"===e.trend&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-semibold text-emerald-600",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),e.change]}),"neutral"===e.trend&&(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-600",children:e.change})]})]})]},e.label))}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-8 animate-slide-up",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-indigo-600"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Integration Settings"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Automatic Sync"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically sync data every 15 minutes"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L.autoSync,onChange:e=>R({...L,autoSync:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-600 peer-checked:to-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Sync Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified when syncs complete or fail"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L.notifications,onChange:e=>R({...L,notifications:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-600 peer-checked:to-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Sync Contacts"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically create and update contacts"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L.syncContacts,onChange:e=>R({...L,syncContacts:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-600 peer-checked:to-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Sync Deals"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically create and update deals"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L.syncDeals,onChange:e=>R({...L,syncDeals:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-blue-600 peer-checked:to-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Webhook URL"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Use this URL to receive webhook events"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",readOnly:!0,value:U.webhookUrl,className:"flex-1 rounded-xl border border-gray-300 bg-gray-50 px-4 py-2.5 text-sm text-gray-700 font-mono"}),(0,a.jsx)("button",{onClick:E,className:"rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-lg hover:shadow-xl transition-all",children:T?"Copied!":"Copy"})]})]})]}),(0,a.jsx)("div",{className:"mt-8 flex justify-end",children:(0,a.jsxs)("button",{onClick:_,disabled:k,className:"rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[k&&(0,a.jsx)(o.A,{className:"h-4 w-4 animate-spin"}),k?"Saving...":"Save Changes"]})})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-8 animate-slide-up",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(f.A,{className:"h-6 w-6 text-indigo-600"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Activity"})]}),(0,a.jsx)("div",{className:"space-y-4",children:[{type:"success",message:"Successfully synced 47 contacts",time:"2 hours ago"},{type:"success",message:"Created 3 new deals from form submissions",time:"5 hours ago"},{type:"warning",message:"Sync delayed due to rate limiting",time:"1 day ago"},{type:"success",message:"Updated 12 contact records",time:"1 day ago"},{type:"error",message:"Failed to sync 2 contacts (API timeout)",time:"2 days ago"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-white/50 hover:bg-white transition-all",children:["success"===e.type&&(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-emerald-600"})}),"warning"===e.type&&(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-100",children:(0,a.jsx)(g,{className:"h-5 w-5 text-yellow-600"})}),"error"===e.type&&(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:(0,a.jsx)(p.A,{className:"h-5 w-5 text-red-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.message}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.time})]})]},t))})]}),j&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md mx-4 glass-effect rounded-2xl p-8 shadow-2xl animate-scale-in",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:(0,a.jsx)(g,{className:"h-8 w-8 text-red-600"})})}),(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:["Disconnect ",U.name,"?"]}),(0,a.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"This will stop all data syncing and remove the integration. You can reconnect at any time."}),S&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-600"}),(0,a.jsx)("span",{className:"text-sm text-red-800",children:S})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>v(!1),disabled:d,className:"flex-1 rounded-xl border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:F,disabled:d,className:"flex-1 rounded-xl bg-gradient-to-r from-red-600 to-red-700 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:d?"Disconnecting...":"Disconnect"})]})]})})]})}}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=4483)),_N_E=e.O()}]);