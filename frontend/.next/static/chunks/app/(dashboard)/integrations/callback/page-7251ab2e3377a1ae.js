(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:c?24*Number(l)/Number(a):l,className:n("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:c,...o}=r;return(0,s.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return r.displayName=a(e),r}},2494:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),n=r(63),i=r(5299),l=r(5917),c=r(5229);function o(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),[r,o]=(0,a.useState)("loading"),[d,u]=(0,a.useState)("Processing integration...");return(0,a.useEffect)(()=>{(async()=>{let r=t.get("code"),s=t.get("state"),a=t.get("error"),n=t.get("integration");if(a){o("error"),u("Integration failed: ".concat(a)),setTimeout(()=>e.push("/integrations"),3e3);return}if(!r||!n){o("error"),u("Missing required parameters"),setTimeout(()=>e.push("/integrations"),3e3);return}try{if(!(await fetch("/api/integrations/oauth/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r,state:s,integrationId:n})})).ok)throw Error("Failed to complete integration");o("success"),u("".concat(n," connected successfully!")),setTimeout(()=>e.push("/integrations"),2e3)}catch(t){console.error("Integration callback error:",t),o("error"),u("Failed to complete integration. Please try again."),setTimeout(()=>e.push("/integrations"),3e3)}})()},[t,e]),(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"glass-effect rounded-2xl p-8 max-w-md w-full text-center animate-scale-in",children:["loading"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"h-8 w-8 text-white animate-spin"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connecting Integration"}),(0,s.jsx)("p",{className:"text-gray-600",children:d})]}),"success"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,s.jsx)(l.A,{className:"h-8 w-8 text-white"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Success!"}),(0,s.jsx)("p",{className:"text-gray-600",children:d}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting back to integrations..."})]}),"error"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"h-8 w-8 text-white"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Failed"}),(0,s.jsx)("p",{className:"text-gray-600",children:d}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting back to integrations..."})]})]})})}function d(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"glass-effect rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"h-8 w-8 text-white animate-spin"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading..."}),(0,s.jsx)("p",{className:"text-gray-600",children:"Please wait"})]})}),children:(0,s.jsx)(o,{})})}},3349:(e,t,r)=>{Promise.resolve().then(r.bind(r,2494))},5229:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5917:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=3349)),_N_E=e.O()}]);