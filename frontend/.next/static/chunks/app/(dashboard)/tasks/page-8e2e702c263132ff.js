(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{2676:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),r=s(2115),l=s(5299),i=s(6191),n=s(1847);let o=(0,n.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),d=(0,n.A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var c=s(6485),x=s(5229),u=s(6132),h=s(7621);function m(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[p,y]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)(""),[k,N]=(0,r.useState)("all"),[w,A]=(0,r.useState)({title:"",description:"",dueDate:"",priority:"medium",status:"pending",type:"general"}),C=async()=>{try{n(!0);let e={};"all"!==k&&(e.status=k);let s=await h.A.get("/tasks",{params:e});t(s.data.data||[])}catch(e){console.error("Failed to fetch tasks:",e),g("Failed to load tasks")}finally{n(!1)}};(0,r.useEffect)(()=>{C()},[k]);let S=async e=>{e.preventDefault(),v(""),f(!0);try{await h.A.post("/tasks",w),y(!1),D(),C()}catch(e){var t,s;console.error("Failed to create task:",e),v((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||"Failed to create task")}finally{f(!1)}},T=async e=>{try{let t="completed"===e.status?"pending":"completed";await h.A.put("/tasks/".concat(e.id),{status:t}),C()}catch(e){console.error("Failed to update task:",e)}},D=()=>{A({title:"",description:"",dueDate:"",priority:"medium",status:"pending",type:"general"}),v("")},P={low:"bg-blue-100 text-blue-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return s?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin text-indigo-600"})}):m?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-red-600 font-semibold",children:m})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Manage your tasks and to-dos (",e.length," total)"]})]}),(0,a.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-blue-700",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),"Add Task"]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:[{id:"all",name:"All Tasks"},{id:"pending",name:"Pending"},{id:"in_progress",name:"In Progress"},{id:"completed",name:"Completed"}].map(e=>(0,a.jsx)("button",{onClick:()=>N(e.id),className:"rounded-lg px-4 py-2.5 text-sm font-medium transition-colors ".concat(k===e.id?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:e.name},e.id))}),(0,a.jsx)("div",{className:"space-y-3",children:0===e.length?(0,a.jsx)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No tasks found. Add your first task to get started!"})}):e.map(e=>(0,a.jsxs)("div",{className:"group flex items-start gap-4 rounded-xl border border-gray-200 bg-white p-4 transition-all hover:border-blue-200 hover:shadow-md",children:[(0,a.jsx)("button",{onClick:()=>T(e),className:"mt-1 flex-shrink-0",children:"completed"===e.status?(0,a.jsx)(o,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(d,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 ".concat("completed"===e.status?"line-through text-gray-500":""),children:e.title}),e.description&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,a.jsx)("span",{className:"rounded-full px-3 py-1 text-xs font-semibold ".concat(P[e.priority]),children:e.priority}),e.dueDate&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,a.jsx)(c.A,{className:"h-3.5 w-3.5"}),new Date(e.dueDate).toLocaleDateString()]})]})]})]},e.id))}),p&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:(0,a.jsxs)("div",{className:"relative w-full max-w-2xl mx-4 glass-effect rounded-2xl p-8 shadow-2xl animate-scale-in",children:[(0,a.jsx)("button",{onClick:()=>{y(!1),D()},className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-all",children:(0,a.jsx)(x.A,{className:"h-6 w-6"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Add New Task"}),j&&(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-2 p-4 rounded-xl bg-red-50 border border-red-200",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:j})]}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,value:w.title,onChange:e=>A({...w,title:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none",placeholder:"Task title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:w.description,onChange:e=>A({...w,description:e.target.value}),rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none resize-none",placeholder:"Task description..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,a.jsxs)("select",{value:w.priority,onChange:e=>A({...w,priority:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Due Date"}),(0,a.jsx)("input",{type:"date",value:w.dueDate,onChange:e=>A({...w,dueDate:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{y(!1),D()},className:"flex-1 rounded-xl border border-gray-300 bg-white px-6 py-3 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:b,className:"flex-1 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating...":"Create Task"})]})]})]})})]})}},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5759:(e,t,s)=>{Promise.resolve().then(s.bind(s,2676))},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7621:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(5125);let r="http://localhost:3000/api/v1",l=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),i=!1,n=[],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.forEach(s=>{e?s.reject(e):s.resolve(t)}),n=[]};l.interceptors.request.use(e=>{{let t=localStorage.getItem("accessToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!s._retry){if(i)return new Promise((e,t)=>{n.push({resolve:e,reject:t})}).then(e=>(s.headers&&(s.headers.Authorization="Bearer ".concat(e)),l(s))).catch(e=>Promise.reject(e));s._retry=!0,i=!0;{let t=localStorage.getItem("refreshToken");if(!t)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{let{accessToken:e,refreshToken:n}=(await a.A.post("".concat(r,"/auth/refresh"),{refreshToken:t})).data;return localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",n),s.headers&&(s.headers.Authorization="Bearer ".concat(e)),o(null,e),i=!1,l(s)}catch(e){return o(e,null),i=!1,localStorage.clear(),window.location.href="/login",Promise.reject(e)}}}return Promise.reject(e)});let d=l}},e=>{e.O(0,[211,441,255,358],()=>e(e.s=5759)),_N_E=e.O()}]);