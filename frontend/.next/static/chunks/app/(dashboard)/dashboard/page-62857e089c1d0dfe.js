(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{1169:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1524:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},5016:(e,t,a)=>{"use strict";a.d(t,{IM:()=>i,cn:()=>l,vv:()=>n});var r=a(2821),s=a(5889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function i(e){return e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}},5299:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6446:(e,t,a)=>{Promise.resolve().then(a.bind(a,9041))},7621:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(5125);let s="https://slackcrm-backend.fly.dev/api/v1",l=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),n=!1,i=[],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.forEach(a=>{e?a.reject(e):a.resolve(t)}),i=[]};l.interceptors.request.use(e=>{{let t=localStorage.getItem("accessToken");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{var t;let a=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!a._retry){if(n)return new Promise((e,t)=>{i.push({resolve:e,reject:t})}).then(e=>(a.headers&&(a.headers.Authorization="Bearer ".concat(e)),l(a))).catch(e=>Promise.reject(e));a._retry=!0,n=!0;{let t=localStorage.getItem("refreshToken");if(!t)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{let{accessToken:e,refreshToken:i}=(await r.A.post("".concat(s,"/auth/refresh"),{refreshToken:t})).data;return localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",i),a.headers&&(a.headers.Authorization="Bearer ".concat(e)),o(null,e),n=!1,l(a)}catch(e){return o(e,null),n=!1,localStorage.clear(),window.location.href="/login",Promise.reject(e)}}}return Promise.reject(e)});let c=l},9041:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(5155),s=a(2115),l=a(1524);let n=(0,a(1847).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var i=a(5016);function o(e){let{title:t,value:a,change:s,changeType:o="increase",icon:c,gradientFrom:d="from-blue-500",gradientTo:h="to-cyan-500"}=e;return(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl glass-effect p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-scale-in",children:[(0,r.jsx)("div",{className:(0,i.cn)("absolute -right-8 -top-8 h-32 w-32 rounded-full bg-gradient-to-br opacity-10 blur-2xl transition-all duration-500 group-hover:opacity-20 group-hover:scale-125",d,h)}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:t}),(0,r.jsx)("p",{className:"mt-3 text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:a}),s&&(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-semibold","increase"===o?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"),children:["increase"===o?(0,r.jsx)(l.A,{className:"h-3 w-3"}):(0,r.jsx)(n,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:s})]}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"vs last month"})]})]}),(0,r.jsx)("div",{className:(0,i.cn)("flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",d,h),children:(0,r.jsx)(c,{className:"h-7 w-7 text-white"})})]})})]})}var c=a(5299),d=a(1169),h=a(9633),u=a(9408),m=a(7621);function p(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!0),[p,g]=(0,s.useState)(null);if((0,s.useEffect)(()=>{(async()=>{try{let e=await m.A.get("/analytics/dashboard");t(e.data)}catch(e){console.error("Failed to fetch dashboard data:",e),g("Failed to load dashboard data")}finally{n(!1)}})()},[]),a)return(0,r.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,r.jsx)(c.A,{className:"h-8 w-8 animate-spin text-indigo-600"})});if(p||!e)return(0,r.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-red-600 font-semibold",children:p||"No data available"})})});let x=[{title:"Total Contacts",value:e.contacts.total.toLocaleString(),icon:d.A,gradientFrom:"from-blue-500",gradientTo:"to-cyan-500"},{title:"Active Deals",value:e.deals.open.toLocaleString(),icon:h.A,gradientFrom:"from-emerald-500",gradientTo:"to-teal-500"},{title:"Companies",value:e.companies.total.toLocaleString(),icon:u.A,gradientFrom:"from-purple-500",gradientTo:"to-pink-500"},{title:"Total Deal Value",value:(0,i.vv)(e.deals.totalValue),icon:l.A,gradientFrom:"from-orange-500",gradientTo:"to-red-500"}];return(0,r.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,r.jsxs)("div",{className:"animate-slide-up",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent",children:"Dashboard"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Welcome back! Here's what's happening with your CRM today."})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:x.map(e=>(0,r.jsx)(o,{...e},e.title))}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-8 animate-slide-up text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your CRM Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your contacts, deals, and activities will appear here as you add them to your CRM."})]})]})}}},e=>{e.O(0,[211,676,441,255,358],()=>e(e.s=6446)),_N_E=e.O()}]);